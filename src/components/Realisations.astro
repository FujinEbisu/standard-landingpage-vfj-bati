---
import CTAButton from './CTAButton.astro';
import { Image } from 'astro:assets';

---

<section class="realisations">
  <div class="container">
    <div class="content">
      <h2>Nos Réalisations</h2>
      <p class="lead">Découvrez quelques-uns de nos projets les plus marquants</p>

      <div class="realisations-grid">

        <!-- Before/After project VFJ Bâti Vincent -->
        <div class="realisation-item before-after">
          <h3>Construction Neuve</h3>
          <div class="before-after-container">
            <div class="before-image">

              <Image src="https://scontent-cdg4-3.xx.fbcdn.net/v/t39.30808-6/496949315_2906401649540123_3008226906253620395_n.jpg?_nc_cat=106&ccb=1-7&_nc_sid=833d8c&_nc_ohc=BdbvH1ITgvgQ7kNvwEAn6cv&_nc_oc=AdmJumHMIvqNOXS59xuxP60UlCpISzO9ayhIIw88QHz-MoBBuMQ3MlQzO-Ae2bD5x_S47Ip63TZThro0vDzzLIS3&_nc_zt=23&_nc_ht=scontent-cdg4-3.xx&_nc_gid=_pxfeKc4LSKx8rNh4KJB8Q&oh=00_AfbBojSaZmpnU1_F-ZJ9ToJPHj8GVhHIlPPE6uZxLZTIRA&oe=68D609C0" alt="Avant rénovation"  width={600} height={400} loading="lazy" />
              <span class="image-label">Avant</span>
            </div>
            <div class="after-image">
                <Image src="https://scontent-cdg4-3.xx.fbcdn.net/v/t39.30808-6/466723807_2746220395558250_9151436711453216732_n.jpg?_nc_cat=111&ccb=1-7&_nc_sid=cc71e4&_nc_ohc=O-JtiIw4X-0Q7kNvwFiDo8u&_nc_oc=AdkFjYKfFBJmfWIJnXbWbY5IXGVEUOhBQ6MxZ4U2JXX5jp66-0A_QakI5jOkE8ixj1PVAjBhKu47Olh4dhUIGS8j&_nc_zt=23&_nc_ht=scontent-cdg4-3.xx&_nc_gid=4xZYhikCJ8K5PITgnmaD9w&oh=00_Afa7J65rXMe42nepT0JZtYbPS7QdF6YQvutt9rYr0eb9lQ&oe=68D618EC" alt="Après rénovation" width={600} height={400} loading="lazy" />
              <span class="image-label">Après</span>
            </div>
          </div>
          <p>Maison sur mesure avec piscine</p>
        </div>

        <!-- Standard project VFJ Bâti Vincent -->
        <div class="realisation-item standard">
          <h3>Construction Neuve</h3>
          <div class="standard-image">
              <Image src="https://scontent-cdg4-2.xx.fbcdn.net/v/t39.30808-6/497521959_2904118916435063_4716646387521917344_n.jpg?_nc_cat=101&ccb=1-7&_nc_sid=833d8c&_nc_ohc=4yz8INY-rDgQ7kNvwFh8Ryl&_nc_oc=AdkaKMygDgG8qVMkAtZFcCWtZN9XsLVctKMoCqSTjUzWUHDcCSKph3qmtgFgcMvziUATBgyCsLYyFjRvKQTv_Ssd&_nc_zt=23&_nc_ht=scontent-cdg4-2.xx&_nc_gid=wlCmibNkyVlcJnp5mK9dBg&oh=00_AfaO0pkJhD_BBTcfClDrKinLw9hlkYZiR1ikF4h6l_aLxQ&oe=68D6161A" alt="Bureau commercial moderne" width={600} height={400} loading="lazy" />
          </div>
          <p>Maison sur mesure avec porche pour les véhicules</p>
        </div>

        <!-- Another Before/After VFJ Bâti Vincent
        <div class="realisation-item before-after">
          <h3>Rénovation - Fosse de maintenance</h3>
          <div class="before-after-container">
            <div class="before-image">
                <Image src="https://scontent-cdg4-3.xx.fbcdn.net/v/t39.30808-6/522592716_1539668310648827_6590538486130515548_n.jpg?_nc_cat=110&ccb=1-7&_nc_sid=833d8c&_nc_ohc=ROzXsbSY8x4Q7kNvwF1qYB3&_nc_oc=AdnkSGWJQnCNhw2n3P57cQ5ODxZ3J9u7uXOEjD9P97ANI3xh8HaqZexJcHd--E-uulKTpnndlDXnijbWLH69piXE&_nc_zt=23&_nc_ht=scontent-cdg4-3.xx&_nc_gid=eIe_qqw0PK5FrsRRCOq6rQ&oh=00_AfZPmjv9Mrl75XA0SfRR1zExB3j6Ebtt5e0bXXapAfyR6g&oe=68D0610B" alt="Ancienne cuisine" width={600} height={400} loading="lazy" />
              <span class="image-label">Avant</span>
            </div>
            <div class="after-image">
                <Image src="https://scontent-cdg4-1.xx.fbcdn.net/v/t39.30808-6/515930018_1539668227315502_8592744708137661670_n.jpg?_nc_cat=104&ccb=1-7&_nc_sid=833d8c&_nc_ohc=fPtdJY_GFyQQ7kNvwFAAV2t&_nc_oc=AdmRK6M2E0-ruG4-rlN0CpnRgmkE5cllSOKJYfMlQl2Dwd0bfNxo7czhySEci0MtyXHZo_XTfZkm6vqTJ7DZaGSs&_nc_zt=23&_nc_ht=scontent-cdg4-1.xx&_nc_gid=nN9xvIVAuhLhyXhbLQGPLA&oh=00_AfZSAAUGkeDD_eXobJfsU7IFTU8Ohlqjgefm_DssZ8rleg&oe=68D03C0E" alt="Nouvelle cuisine" width={600} height={400} loading="lazy" />
              <span class="image-label">Après</span>
            </div>
          </div>
          <p>Atelier à Auterive, rénovation complète de la fosse de maintenance.</p>
        </div> -->

      </div>

      <div class="actions">
        <CTAButton label="Je demande un devis" />
      </div>
    </div>
  </div>
</section>

<!-- Image Modal -->
<div id="image-modal" class="modal">
  <span class="close">&times;</span>
  <img class="modal-content" id="modal-img" alt="Modal Image">
</div>

<script>
  // Modal functionality
  const modal = document.getElementById('image-modal');
  const modalImg = document.getElementById('modal-img');
  const closeBtn = document.querySelector('.close');

  // Get all images in realisations
  const images = document.querySelectorAll('.realisation-item img');

  // Add click event to each image
  images.forEach(img => {
    img.style.cursor = 'pointer';
    img.addEventListener('click', function() {
      modal.style.display = 'block';
      modalImg.src = this.src;
      modalImg.alt = this.alt;
    });
  });

  // Close modal when clicking close button
  closeBtn.addEventListener('click', function() {
    modal.style.display = 'none';
  });

  // Close modal when clicking outside the image
  modal.addEventListener('click', function(event) {
    if (event.target === modal) {
      modal.style.display = 'none';
    }
  });

  // Close modal with Escape key
  document.addEventListener('keydown', function(event) {
    if (event.key === 'Escape' && modal.style.display === 'block') {
      modal.style.display = 'none';
    }
  });
</script>
